{"version":3,"file":"pages/results.js","sources":["webpack:///./components/Analytics.vue?ad8b","webpack:///./components/Analytics.vue","webpack:///./components/Analytics.vue?642f","webpack:///./components/Analytics.vue?49d6","webpack:///./components/Analytics.vue?0aca","webpack:///./components/Analytics.vue?bd50","webpack:///./components/Darujme.vue?7702","webpack:///./components/Darujme.vue","webpack:///./components/Analytics.vue?ca2c","webpack:///./components/Darujme.vue?7032","webpack:///./components/Darujme.vue?bb65","webpack:///./components/ResultsTable.vue?f286","webpack:///./components/ResultsTable.vue?1888","webpack:///./components/ResultsTable.vue?7e41","webpack:///./pages/results.vue?f7b5","webpack:///./components/ResultsTable.vue?6bfb","webpack:///./components/ResultsTable.vue","webpack:///./components/ResultsTable.vue?82a0","webpack:///./components/ResultsTable.vue?9770","webpack:///./pages/results.vue?489d","webpack:///./pages/results.vue?d8ed","webpack:///./pages/results.vue?0c60","webpack:///./pages/results.vue","webpack:///./pages/results.vue?fb57","webpack:///./pages/results.vue?3ad8"],"sourcesContent":["import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analytics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analytics.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nif (process.browser) {\n  (function(i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r;\n    i[r] = i[r] || function() {\n      (i[r].q = i[r].q || []).push(arguments)\n    }, i[r].l = 1 * new Date();\n    a = s.createElement(o),\n      m = s.getElementsByTagName(o)[0];\n    a.async = 1;\n    a.src = g;\n    m.parentNode.insertBefore(a, m)\n  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n\n  ga('create', 'UA-8592359-7', 'auto');\n  ga('send', 'pageview');\n}\n\n// if (process.browser) {\n//   var _paq = _paq || [];\n//   // tracker methods like \"setCustomDimension\" should be called before \"trackPageView\"\n//   _paq.push(['trackPageView']);\n//   _paq.push(['enableLinkTracking']);\n//   (function() {\n//     var u = \"//piwik.kohovolit.eu/\";\n//     _paq.push(['setTrackerUrl', u + 'piwik.php']);\n//     _paq.push(['setSiteId', '1']);\n//     var d = document,\n//       g = d.createElement('script'),\n//       s = d.getElementsByTagName('script')[0];\n//     g.type = 'text/javascript';\n//     g.async = true;\n//     g.defer = true;\n//     g.src = u + 'piwik.js';\n//     s.parentNode.insertBefore(g, s);\n//   })();\n// }\n\n\n\n// var _paq = _paq || [];\n// // tracker methods like \"setCustomDimension\" should be called before \"trackPageView\"\n// _paq.push([\"setCookieDomain\", \"*.volebnikalkulacka.cz\"]);\n// _paq.push(['trackPageView']);\n// _paq.push(['enableLinkTracking']);\n// (function() {\n//   var u = \"//piwik.kohovolit.eu/\";\n//   _paq.push(['setTrackerUrl', u + 'piwik.php']);\n//   _paq.push(['setSiteId', '1']);\n//   var d = document,\n//     g = d.createElement('script'),\n//     s = d.getElementsByTagName('script')[0];\n//   g.type = 'text/javascript';\n//   g.async = true;\n//   g.defer = true;\n//   g.src = u + 'piwik.js';\n//   s.parentNode.insertBefore(g, s);\n// })();\n\n\nif (process.browser) {\n  (function (d, w, c) {\n      (w[c] = w[c] || []).push(function() {\n          try {\n              w.yaCounter35615280 = new Ya.Metrika({\n                  id:35615280,\n                  clickmap:true,\n                  trackLinks:true,\n                  accurateTrackBounce:true,\n                  webvisor:true\n              });\n          } catch(e) { }\n      });\n\n      var n = d.getElementsByTagName(\"script\")[0],\n          s = d.createElement(\"script\"),\n          f = function () { n.parentNode.insertBefore(s, n); };\n      s.type = \"text/javascript\";\n      s.async = true;\n      s.src = \"https://mc.yandex.ru/metrika/watch.js\";\n\n      if (w.opera == \"[object Opera]\") {\n          d.addEventListener(\"DOMContentLoaded\", f, false);\n      } else { f(); }\n  })(document, window, \"yandex_metrika_callbacks\");\n}\n/* eslint-enable */\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analytics.vue?vue&type=style&index=0&id=fe6a06ee&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0143b4dd\", content, true, context)\n};","import { render, staticRenderFns } from \"./Analytics.vue?vue&type=template&id=fe6a06ee&scoped=true&\"\nimport script from \"./Analytics.vue?vue&type=script&lang=js&\"\nexport * from \"./Analytics.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Analytics.vue?vue&type=style&index=0&id=fe6a06ee&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"fe6a06ee\",\n  \"064a6b16\"\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analytics.vue?vue&type=style&index=0&id=fe6a06ee&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".no-height[data-v-fe6a06ee]{max-height:0}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Darujme.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Darujme.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n\nif (process.browser) {\n  +function(w, d, s, u, a, b) {\n    w['DarujmeObject'] = u;\n    w[u] = w[u] || function () { (w[u].q = w[u].q || []).push(arguments) };\n    a = d.createElement(s); b = d.getElementsByTagName(s)[0];\n    a.async = 1; a.src = \"https://www.darujme.cz/assets/scripts/widget.js\";\n    b.parentNode.insertBefore(a, b);\n  }(window, document, 'script', 'Darujme');\n  // Darujme(1, \"w2acrk0w61fgr3so\", 'render', \"https:\\/\\/www.darujme.cz\\/widget?token=w2acrk0w61fgr3so\", \"100%\");\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-height\"},[_vm._ssrNode(\"<iframe src=\\\"https://a.volebnikalkulacka.cz/session/\\\" width=\\\"0\\\" height=\\\"0\\\" frameborder=\\\"0\\\" data-v-fe6a06ee></iframe> <noscript data-v-fe6a06ee><div data-v-fe6a06ee><img src=\\\"https://mc.yandex.ru/watch/35615280\\\" alt style=\\\"position:absolute; left:-9999px;\\\" data-v-fe6a06ee></div></noscript>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Darujme.vue?vue&type=template&id=1be7dc3a&\"\nimport script from \"./Darujme.vue?vue&type=script&lang=js&\"\nexport * from \"./Darujme.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"30cd4b92\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div data-darujme-widget-token=\\\"w2acrk0w61fgr3so\\\">Â </div> <iframe src=\\\"https://www.darujme.cz/widget?token=w2acrk0w61fgr3so\\\" scrolling=\\\"no\\\" name=\\\"widget-w2acrk0w61fgr3so\\\" width=\\\"100%\\\" height=\\\"327\\\" style=\\\"width: 100%; max-width: 100%; overflow: hidden; border: 1px solid rgb(220, 220, 220); box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 18px 0px; height: 327px;\\\"></iframe>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsTable.vue?vue&type=style&index=0&id=57a6268e&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"a1e96b0e\", content, true, context)\n};","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsTable.vue?vue&type=style&index=0&id=57a6268e&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".picture[data-v-57a6268e]{height:66px;border-radius:50%;border:1px solid #aaa}.list-group[data-v-57a6268e]{cursor:pointer}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./results.vue?vue&type=style&index=0&id=21a6358c&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"94bd36e8\", content, true, context)\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-57a6268e><h4 class=\\\"p-2\\\" data-v-57a6268e>Moje shoda:</h4> \"+(_vm._ssrList((_vm.results),function(result,index){return (\"<ul class=\\\"list-group\\\" data-v-57a6268e><li class=\\\"list-group-item list-group-item-action d-flex\\\" data-v-57a6268e><div data-v-57a6268e><img\"+(_vm._ssrAttr(\"src\",_vm.createImageLink(result.info.logo)))+\" class=\\\"picture mr-2\\\" data-v-57a6268e></div> <div class=\\\"ms-2 me-auto\\\" data-v-57a6268e><h3 class=\\\"fw-bold\\\" data-v-57a6268e>\"+_vm._ssrEscape(\"\\n            \"+_vm._s(result.info.abbreviation)+\"\\n          \")+\"</h3>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(result.info.name)+\"\\n        \")+\"</div> <div class=\\\"text-primary fw-bold\\\" data-v-57a6268e><h2 data-v-57a6268e>\"+_vm._ssrEscape(_vm._s(result.result_percent)+\"Â %\")+\"</h2></div></li></ul>\")}))+\"</div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: [\n    'results'\n  ],\n\n  methods: {\n    comparison: function(id) {\n      // console.log(\"clicked\", id)\n      this.$router.push({ \n        name: 'comparison',\n        params: {\n          candidateId: id\n        } \n      })\n    },\n\n    createImageLink: function (name) {\n      // https://www.psp.cz/eknih/cdrom/2017ps/eknih/2017ps/poslanci/i6254.jpg\n      // return \"https://www.psp.cz/eknih/cdrom/2013ps/eknih/2013ps/poslanci/i\" + name + \".jpg\"\n      return \"/logos/\" + name + \".webp\"\n      // CDN\n      // return \"https://michalskop-gitlab-io.azureedge.net/sinventura-2017-2021.volebnikalkulacka.cz/photos/\" + name + \".webp\"\n      // return \"https://www.volebnikalkulacka.cz/cs/volby-2021/logos/\" + name + \".webp\"\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultsTable.vue?vue&type=template&id=57a6268e&scoped=true&\"\nimport script from \"./ResultsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsTable.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./ResultsTable.vue?vue&type=style&index=0&id=57a6268e&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"57a6268e\",\n  \"0be745d0\"\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./results.vue?vue&type=style&index=0&id=21a6358c&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".page[data-v-21a6358c]{min-height:calc(100vh - 58px);max-width:666px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page container\"},[(_vm.noAnswer)?_vm._ssrNode(\"<div class=\\\"alert alert-warning mt-2\\\" data-v-21a6358c>\",\"</div>\",[_vm._ssrNode(\"\\n    NenÃ­ zodpovÄzenÃ¡ ani jedna otÃ¡zka, vÅ¡ichni tedy majÃ­ 50% shodu a jsou seÅazeni nÃ¡hodnÄ.\\n    <br data-v-21a6358c>\\n    MÅ¯Å¾ete: \\n    \"),_vm._ssrNode(\"<ul data-v-21a6358c>\",\"</ul>\",[_vm._ssrNode(\"<li data-v-21a6358c>\",\"</li>\",[_c('NuxtLink',{attrs:{\"to\":\"/question/1/\"}},[_c('strong',[_vm._v(\"Spustit VolebnÃ­ kalkulaÄku od zaÄÃ¡tku\")])])],1),_vm._ssrNode(\" \"),(_vm.storedExist)?_vm._ssrNode(\"<li data-v-21a6358c>\",\"</li>\",[_c('NuxtLink',{attrs:{\"to\":\"/me/\"}},[_c('strong',[_vm._v(\"NaÄÃ­st svoje uloÅ¾enÃ© vyplnÄnÃ© kalkulaÄky\")])])],1):_vm._e()],2)],2):_vm._e(),_vm._ssrNode(\" <div class=\\\"hstack\\\" data-v-21a6358c><div class=\\\"form-check form-switch ms-auto pe-2 pt-2\\\" data-v-21a6358c><label for=\\\"flexSwitchCheckChecked\\\" class=\\\"form-check-label\\\" data-v-21a6358c>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.switchText))+\"</label> <input type=\\\"checkbox\\\" id=\\\"flexSwitchCheckChecked\\\"\"+(_vm._ssrAttr(\"checked\",Array.isArray(_vm.swi)?_vm._i(_vm.swi,null)>-1:(_vm.swi)))+\" class=\\\"form-check-input\\\" data-v-21a6358c></div></div> \"),_c('ResultsTable',{attrs:{\"results\":_vm.results}}),_vm._ssrNode(\" <hr data-v-21a6358c> <div class=\\\"container p-2 \\\" data-v-21a6358c><em data-v-21a6358c>Tip: kliknutÃ­m na stranu pÅejdete na podrobnÃ© srovnÃ¡nÃ­ a komentÃ¡Åe stran k otÃ¡zkÃ¡m</em></div> <hr data-v-21a6358c> <div class=\\\"d-grid gap-2 col-sm-6 mx-auto\\\" data-v-21a6358c><a href=\\\"https://docs.google.com/spreadsheets/d/1xbuHjvoSJMRBxF1QSCkJWvK288qPeh5ftc7rRGfV3CU/edit?usp=sharing\\\" target=\\\"_blank\\\" class=\\\"btn btn-info\\\" data-v-21a6358c>Tabulka vÅ¡ech otÃ¡zek a odpovÄdÃ­</a></div> <hr data-v-21a6358c> \"),_vm._ssrNode(\"<div class=\\\"d-grid gap-2 col-sm-6 mx-auto\\\" data-v-21a6358c>\",\"</div>\",[_vm._ssrNode(\"<button type=\\\"button\\\"\"+(_vm._ssrClass(\"btn\",{'disabled btn-secondary': !_vm.isChanged, 'btn-primary': _vm.isChanged}))+\" data-v-21a6358c>\"+_vm._ssrEscape(_vm._s(_vm.saveResultText))+\"</button> <br data-v-21a6358c>\"),_c('NuxtLink',{attrs:{\"to\":\"/me/\"}},[_vm._v(\"Moje kalkulaÄky\")])],2),_vm._ssrNode(\" <hr data-v-21a6358c> <div class=\\\"d-grid gap-2 col-sm-6 mx-auto\\\" data-v-21a6358c><a href=\\\"https://programydovoleb.cz/\\\" target=\\\"_blank\\\" class=\\\"btn btn-secondary\\\" data-v-21a6358c>VÃ­ce info o kandidujÃ­cÃ­ch stranÃ¡ch: Programy do voleb</a></div> <hr data-v-21a6358c> <div class=\\\"d-grid gap-2 col-sm-6 mx-auto\\\" data-v-21a6358c><a href=\\\"https://www.volbypromlade.cz/\\\" target=\\\"_blank\\\" class=\\\"btn btn-secondary\\\" data-v-21a6358c>Volby pro mladÃ©</a></div> <div class=\\\"d-grid gap-2 col-sm-6 mx-auto\\\" data-v-21a6358c><a href=\\\"https://www.nazorypolitiku.cz/\\\" target=\\\"_blank\\\" class=\\\"btn btn-secondary\\\" data-v-21a6358c>NÃ¡zory politikÅ¯</a></div> <hr data-v-21a6358c> <hr data-v-21a6358c> \"),_c('Darujme'),_vm._ssrNode(\" \"),_c('Analytics')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import Givt from \"~/components/Givt.vue\"\nimport Darujme from \"~/components/Darujme.vue\"\nimport Analytics from \"~/components/Analytics.vue\"\nimport axios from 'axios'\n\nexport default {\n  async asyncData ({ $content }) {\n    const candidates = await $content('answers_classic').fetch()\n    return { candidates }\n  },\n\n  head: function() {\n    return {\n      title: 'VolebnÃ­ kalkulaÄka 2021 - vÃ½sledky',\n      meta: [\n        {\n          hid: 'results',\n          name: 'VÃ½sledky volebnÃ­ kalkulaÄky',\n          description: 'VolebnÃ­ kalkulaÄka 2021 - vÃ½sledky'\n        }\n      ]\n    }\n  },\n\n  data: function() {\n    return {\n      swi: this.$store.getters.getComparableSwitch\n    }\n  },\n\n  computed: {\n    answers: function() {\n      return this.$store.getters.getAnswers\n    },\n\n    weights: function() {\n      return this.$store.getters.getWeights\n    },\n\n    comparables: function() {\n      let comparables = []\n      this.candidates.forEach(item => {\n        if (this.swi) {\n          comparables.push(item.id)\n        } else {\n          if (item.vip) {\n            comparables.push(item.id)\n          }\n        }\n      })\n      return comparables\n    },\n\n    results: function() {\n      // console.log('recalculating')\n      return this.sortMatch(this.answers, this.weights, this.candidates)\n    },\n\n    switchText: function() {\n      if (this.swi) {\n        return 'VÅ¡echny kandidujÃ­cÃ­ strany'\n      } else {\n        return 'DevÄt nejvÄtÅ¡Ã­ch stran dle MandÃ¡ty.cz'\n      }\n    },\n\n    isChanged: function() {\n      return this.$store.getters.getLocalChanged\n    },\n\n    saveResultText: function() {\n      if (this.isChanged) {\n        return \"UloÅ¾it si svÅ¯j vÃ½sledek\"\n      } else {\n        return \"VÃ½sledek uloÅ¾en\"\n      }\n    },\n\n    noAnswer: function() {\n      let noAnswer = true\n      for (let k in this.answers) {\n        if (Math.abs(this.answers[k]) == 1) {\n          noAnswer = false\n        }\n      }\n      return noAnswer\n    },\n\n    storedExist: function() {\n      let storedExist = false\n      let storedCalcs = []\n      if (process.browser) {\n        if (typeof(window.localStorage.calcs) != 'undefined') {\n          storedCalcs = JSON.parse(window.localStorage.calcs)\n        }\n      }\n      // console.log(storedCalcs.length)\n      if (storedCalcs.length > 0) {\n        storedExist = true\n      }\n      // console.log(storedExist)\n      return storedExist\n    }\n\n  },\n\n  methods: {\n\n    sortMatch: function(answers, weights, candidates) {\n      let results = this.calcMatch(answers, weights, candidates)\n      results.sort(function (a, b) {\n        return b.random - a.random\n      })\n      results.sort(function (a, b) {\n        return b.result - a.result\n      })\n      return results\n    },\n\n    calcMatch: function (answers, weights, candidates, extra = 2) {\n      let results = []\n      let event = new Date()\n      // console.log('start', event.toISOString())\n      for (let key in candidates) {\n        let candidate = candidates[key]\n        if (this.comparables.indexOf(candidate.id) != -1) {\n          let r = this.calcOneMatch(answers, weights, candidate['votes'], extra)\n          r['random'] = Math.random()\n          r['id'] = candidate['id']\n          r['info'] = candidate\n          results.push(r)\n        }\n      }\n      event = new Date()\n      // console.log('end', event.toISOString())\n      return results\n    },\n\n    calcOneMatch: function (answers, weights, singleVotes, extra) {\n      let sum = 0\n      let count = 0\n      let w = 0\n      for (let key in answers) {\n        if (Math.abs(answers[key]) > 0) {\n          w = 1\n          if (weights[key]) {\n            w = extra\n          }\n          if (singleVotes[key] !== undefined) {\n            sum = sum + Math.sign(answers[key]) * singleVotes[key] * w\n            count = count + w\n          }\n          else {\n            count = count + w\n          }\n        }\n      }\n      if (count === 0) {\n          count = 1\n      }\n\n      let result = {\n          result: (1 + sum / count) / 2,\n          result_percent: Math.round((100 + 100 * sum / count) / 2),\n          rating: Math.round((1 + sum / count) / 2 * 10) / 2,\n          rating5: Math.round((1 + sum / count) / 2 * 5),\n          random: Math.random()\n      }\n      return result\n    },\n\n    // whether the results are stored in localStorage\n    isStored: function() {\n      let isStored = false\n      let storedCalcs = []\n      if (process.browser) {\n        if (typeof(window.localStorage.calcs) != 'undefined') {\n          storedCalcs = JSON.parse(window.localStorage.calcs)\n        }\n      }\n      storedCalcs.forEach(calc => {\n        // quick comparison ** fix later: not using stringify\n        if ((typeof(calc['answers']) != 'undefined') & (typeof(calc['weights']) != 'undefined')) {\n          if ((JSON.stringify(calc['answers']) == JSON.stringify(this.$store.getters.getAnswers) ) & (JSON.stringify(calc['weights']) == JSON.stringify(this.$store.getters.getWeights) ))  {\n            isStored = true\n          }\n        }\n      })\n      return isStored\n    },\n\n    // store results in localStorage\n    store: function() {\n      let storedCalcs = []\n      if (process.browser) {\n        if (typeof(window.localStorage.calcs) != 'undefined') {\n          storedCalcs = JSON.parse(window.localStorage.calcs)\n        }\n      }\n      if (typeof(storedCalcs) == 'undefined') {\n        storedCalcs = []\n      }\n      // console.log('storedCalcs', storedCalcs)\n      const timeElapsed = Date.now()\n      const today = new Date(timeElapsed)\n      const thisCalc = {\n        answers: this.answers,\n        weights: this.weights,\n        name: 'VolebnÃ­ kalkulaÄka 2021',\n        date: today.toISOString(),\n        calc: 'cz_psp_2021',\n        path: '/cs/volby-2021/',\n        version: '0.1.1'\n      }\n      storedCalcs.push(thisCalc)\n      if (process.browser) {\n        window.localStorage.calcs = JSON.stringify(storedCalcs)\n        this.$store.commit('storeLocalStored', true)\n        this.$store.commit('storeLocalChanged', false)\n      }\n    },\n\n    saveSwitch: function() {\n      this.$store.commit('storeComparableSwitch', this.swi)\n    },\n\n    saveToApi: function() {\n      let c = this.$cookies.get('vkid', {parseJSON: false})\n      if (typeof(c) == 'undefined') {\n        c = 'vk.' + Date.now() + '.' + Math.round(Math.random() * 1000000000000000)\n        this.$cookies.set('vkid', c, {path: '/', maxAge: 60 * 60 * 24 * 5000})\n      }\n      let params = {\n        vkid: c,\n        calc: 'volby_2021',\n        answer: JSON.stringify({ answers: this.answers, weights: this.weights })\n      }\n      axios.get(\"https://a.volebnikalkulacka.cz/volby-2021/results.php\", { params: params })\n    },\n\n    scrollToTop() {\n      // console.log('scrolling')\n      window.scrollTo(0,0)\n    }\n\n  },\n\n  mounted: function() {\n    // console.log(this.candidates)\n    // store results\n    if (!this.isStored()) {\n      if ((!this.$store.getters.getLocalStored) & (!this.noAnswer)) {\n        this.store()\n        this.saveToApi()\n        this.$store.commit('storeLocalStored', true)\n        this.$store.commit('storeLocalChanged', false)\n      } else {\n        this.$store.commit('storeLocalChanged', true)\n      }\n    }\n    this.scrollToTop()\n  },\n\n  components: {\n    // Givt,\n    Darujme,\n    Analytics\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./results.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./results.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./results.vue?vue&type=template&id=21a6358c&scoped=true&\"\nimport script from \"./results.vue?vue&type=script&lang=js&\"\nexport * from \"./results.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./results.vue?vue&type=style&index=0&id=21a6358c&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"21a6358c\",\n  \"8d1788dc\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {ResultsTable: require('/home/michal/project/partmonitor.hu/vue/test-2022/components/ResultsTable.vue').default,Darujme: require('/home/michal/project/partmonitor.hu/vue/test-2022/components/Darujme.vue').default,Analytics: require('/home/michal/project/partmonitor.hu/vue/test-2022/components/Analytics.vue').default})\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAeA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAyBA;AACA;;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;ACTA;AACA;AACA;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAlBA;AALA;;AC3BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAHA;AAUA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA,mBAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAxEA;AA4EA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA,mBAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA,mBAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAAA,mBAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1IA;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAlQA;;AC5DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}